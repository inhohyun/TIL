## 알고리즘 적용 기획서 # 1

#### 내용 : Secure Hash Algorithm(sha 256)과 salt Algorithm을 활용한 패스워드 암호화 서비스

#### 적용 알고리즘 : 적용 알고리즘 : Secure Hash 알고리즘 및 salt


### 알고리즘 개요

먼저 Secure Hash Algorithm은 256비트 길이의 해시 값을 생성하는 알고리즘입니다. 이 알고리즘은 일방향 함수로서, 입력 데이터를 해시 값으로 변환시킵니다. 이때, 입력 데이터가 조금만 달라져도 해시 값은 완전히 다르게 됩니다. 

단방향 알고리즘이기에  원본 데이터를 복구할 수 없는 특징이 있어 패스워드와 같은 민감한 정보의 보안에 적합합니다.

따라서 데이터베이스에 사용자의 비밀번호를 직접적으로 넣지 않고 Secure Hash Algorithm을 적용한 문자열을 저장합나다. 이후 사용자가 로그인할 때 사용자의 입력 값에 또다시 Secure Hash Algorithm을 적용하여 데이터베이스의 값과 일치한지 비교합니다.

이러한 방식을 통해 데이터베이스의 비밀번호가 유출되어도 데이터베이스에 저장된 문자열 값을 복호화하여 비밀번호를 찾는 것을 방지하여 보안을 높일 수 있습니다.


하지만 이러한 방식에도 문제가 있습니다. 바로 레인보우 테이블이라는 것이 생겼기 때문입니다. 레인보우 테이블이란 원본 문자열과 암호화된 해시 값을 Key-value 한 쌍의 형태로 저장해놓은 테이블입니다.

레인보우 테이블에 수많은 데이터가 쌓이고, 이로인해 암호화된 해시값을 역으로 추적하여 원본 문자열을 알아내게 된 것입니다. 이러한 역추적을 막고자 Salt라는 방식이 등장했습니다.
salt 방식이란 이름 그대로 소금을 뿌리듯 원본 뒤에 무작위 랜덤 문자열을 붙인 뒤 Secure Hash Algorithm을 적용시키는 방식이다. 이로인해 문자열이 길고 복잡해져 레인보우 테이블에 없는 값으로 만들어 비밀번호가 유출되는 것을 막는 방식입니다.

#### 적용 서비스 : 사용자 회원가입시 비밀번호 암호화 서비스



### 적용 서비스 개발 개요

사용자가 회원 가입시 비밀번호를 암호화해서 데이터베이스에 저장하고 이를 로그인할 때 사용자가 입력한 비밀번호와 비교하여 성공시키는 것을 목표로 했습니다.

이를 위해 먼저 기존에 사용자가 회원가입시 입력한 비밀번호를 가져오고 비밀번호 뒤에 salt, 즉 암호화를 위해 덧붙일 문자열을 생성하기 위해 Java의 SecureRandom 클래스를 가져와 사용했습니다. SecureRandom 클래스란 Java에서 암호학적으로 안전한 난수를 생성하는 데 사용되는 클래스입니다. 

이렇게 만들어진 문자열을 암호화하였습니다. 이를 위해 Java에서 MessageDigest 클래스란 해시 함수를 구현한 클래스로 데이터의 무결성을 확인하거나 비밀번호를 보호하는 등의 보안 목적으로 사용됩니다. 이러한 MessageDist 클래스의 SHA-256, 즉 Secure Hash Algorithm을 이용하여 사용자의 비밀번호를 암호화 하였습니다.

이렇게 암호화한 비밀번호를 DAO에 전달해 데이터베이스에 저장합니다.

이후 사용자가 로그인 할 때 사용자의 ID 값을 기준으로 데이터베이스에서 사용자의 정보를 가져와 사용자가 로그인시 입력한 비밀번호를 같은 방식으로 암호화하여 데이터베이스에 저장된 값과 비교합니다.

이러한 과정을 통해 사용자의 비밀번호를 좀 더 안전하게 관리할 수 있도록 구현했습니다.
